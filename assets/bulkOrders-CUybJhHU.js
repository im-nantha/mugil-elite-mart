import{r as i,j as e,H as b,F as g,c as q}from"./Header-DYoQkhPj.js";import{T as v}from"./TextBanner-CDlkSAs9.js";import{c as N,d as k,a as I}from"./firebase-BmF8jbnI.js";/* empty css                    */const R=()=>{const[r,l]=i.useState({address:"",contactInfo:"",quantity:"",specialRequest:""}),[a,d]=i.useState({}),[x,u]=i.useState(!1),[m,c]=i.useState(""),j=async t=>{try{const s=N(k,"bulkorders"),n=new Date,h=n.toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric",timeZone:"Asia/Kolkata"}),f=n.toLocaleTimeString("en-GB",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:"Asia/Kolkata"}).toLowerCase();return{id:(await I(s,{...t,createdDate:h,createdTime:f})).id,...t,createdDate:h,createdTime:f}}catch(s){throw console.error("Error submitting bulk order:",s),s}},o=t=>{const{name:s,value:n}=t.target;l({...r,[s]:n}),d({...a,[s]:""})},p=()=>{const t={};if(r.quantity.trim()?(isNaN(r.quantity)||Number(r.quantity)<=0)&&(t.quantity="Please enter a valid quantity."):t.quantity="Quantity is required.",r.address.trim()||(t.address="Delivery address is required."),!r.contactInfo.trim())t.contactInfo="Contact information is required.";else{const s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,n=/^[0-9]{10}$/;!s.test(r.contactInfo)&&!n.test(r.contactInfo)&&(t.contactInfo="Enter a valid email or phone number.")}return t},y=async t=>{t.preventDefault();const s=p();if(Object.keys(s).length>0){d(s);return}u(!0),c("");try{await j(r),c("success")}catch{c("error")}finally{u(!1),l({address:"",contactInfo:"",quantity:"",specialRequest:""})}};return x?e.jsx("div",{className:"bulk-order-form loading-screen",children:e.jsx("p",{children:"Submitting your bulk order..."})}):m==="success"?e.jsxs("div",{className:"bulk-order-form success-screen",children:[e.jsx("h3",{children:"✅ Thank you!"}),e.jsx("p",{children:"Your bulk order has been submitted successfully."})]}):m==="error"?e.jsxs("div",{className:"bulk-order-form error-screen",children:[e.jsx("h3",{children:"❌ Oops!"}),e.jsx("p",{children:"Something went wrong. Please try again later."})]}):e.jsx("div",{className:"bulk-order-form",children:e.jsxs("div",{className:"form-container",children:[e.jsx("div",{className:"title",children:"Bulk Order Form"}),e.jsx("p",{className:"sub-title",children:"Please fill in the details below to place your bulk order."}),e.jsxs("form",{className:"form-default",onSubmit:y,noValidate:!0,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"quantity",children:"Product Quantity*"}),e.jsx("input",{type:"number",id:"quantity",name:"quantity",value:r.quantity,onChange:o,className:a.quantity?"error":""}),a.quantity&&e.jsx("span",{className:"error-msg",children:a.quantity})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"address",children:"Delivery Address*"}),e.jsx("textarea",{id:"address",name:"address",value:r.address,onChange:o,className:a.address?"error":""}),a.address&&e.jsx("span",{className:"error-msg",children:a.address})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"contactInfo",children:"Contact Information (Email or Phone)*"}),e.jsx("input",{type:"text",id:"contactInfo",name:"contactInfo",value:r.contactInfo,onChange:o,className:a.contactInfo?"error":""}),a.contactInfo&&e.jsx("span",{className:"error-msg",children:a.contactInfo})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"specialRequest",children:"Special Requests (Optional)"}),e.jsx("textarea",{id:"specialRequest",name:"specialRequest",value:r.specialRequest,onChange:o})]}),e.jsx("button",{type:"submit",className:"submit-btn",children:"Submit Order"})]})]})})},S=()=>e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsxs("main",{children:[e.jsx(v,{bannerText:"Bulk Orders"}),e.jsx("div",{className:"mugil-container",children:e.jsx(R,{})})]}),e.jsx(g,{})]});function F(){return e.jsx(S,{})}q.createRoot(document.getElementById("root")).render(e.jsx(F,{}));
