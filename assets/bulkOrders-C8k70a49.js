import{r as c,j as e,H as b,F as q,c as v}from"./Header-L1p8reew.js";/* empty css               */import"./loader-DFfgq4s3.js";import{T as N}from"./TextBanner-DkfLDtYA.js";import{c as I,d as w,a as S}from"./firebase-Dtrs02c3.js";/* empty css                    */const k=()=>{const[s,d]=c.useState({address:"",contactInfo:"",quantity:"",specialRequest:""}),[a,u]=c.useState({}),[m,p]=c.useState(!1),[o,l]=c.useState({show:!1,type:"",message:""}),x=()=>{l({show:!1,type:"",message:""})},y=async t=>{const r=I(w,"bulkorders"),n=new Date,h=n.toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric",timeZone:"Asia/Kolkata"}),f=n.toLocaleTimeString("en-GB",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:"Asia/Kolkata"}).toLowerCase();return{id:(await S(r,{...t,createdDate:h,createdTime:f})).id,...t,createdDate:h,createdTime:f}},i=t=>{const{name:r,value:n}=t.target;d({...s,[r]:n}),u({...a,[r]:""})},j=()=>{const t={};if(s.quantity.trim()?(isNaN(s.quantity)||Number(s.quantity)<=0)&&(t.quantity="Please enter a valid quantity."):t.quantity="Quantity is required.",s.address.trim()||(t.address="Delivery address is required."),!s.contactInfo.trim())t.contactInfo="Contact information is required.";else{const r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,n=/^[0-9]{10}$/;!r.test(s.contactInfo)&&!n.test(s.contactInfo)&&(t.contactInfo="Enter a valid email or phone number.")}return t},g=async t=>{t.preventDefault();const r=j();if(Object.keys(r).length>0){u(r);return}p(!0);try{await y(s),l({show:!0,type:"success",message:"Your bulk order has been submitted successfully!"})}catch{l({show:!0,type:"error",message:"Something went wrong. Please try again later."})}finally{p(!1),d({address:"",contactInfo:"",quantity:"",specialRequest:""})}};return e.jsxs(e.Fragment,{children:[o.show&&e.jsx("div",{className:`popup-overlay ${o.type}`,children:e.jsxs("div",{className:"popup-box",children:[e.jsx("h3",{children:o.type==="success"?"✅ Success":"❌ Error"}),e.jsx("p",{children:o.message}),e.jsx("button",{onClick:x,children:"Okay"})]})}),e.jsx("div",{className:"bulk-order-form",children:e.jsxs("div",{className:"form-container",children:[e.jsx("div",{className:"title",children:"Bulk Order Form"}),e.jsx("p",{className:"sub-title",children:"Please fill in the details below to place your bulk order."}),e.jsxs("form",{className:"form-default",onSubmit:g,noValidate:!0,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"quantity",children:"Product Quantity*"}),e.jsx("input",{type:"number",id:"quantity",name:"quantity",value:s.quantity,onChange:i,className:a.quantity?"error":""}),a.quantity&&e.jsx("span",{className:"error-msg",children:a.quantity})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"address",children:"Delivery Address*"}),e.jsx("textarea",{id:"address",name:"address",value:s.address,onChange:i,className:a.address?"error":""}),a.address&&e.jsx("span",{className:"error-msg",children:a.address})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"contactInfo",children:"Contact Information*"}),e.jsx("input",{type:"text",id:"contactInfo",name:"contactInfo",value:s.contactInfo,onChange:i,className:a.contactInfo?"error":""}),a.contactInfo&&e.jsx("span",{className:"error-msg",children:a.contactInfo})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"specialRequest",children:"Special Requests (Optional)"}),e.jsx("textarea",{id:"specialRequest",name:"specialRequest",value:s.specialRequest,onChange:i})]}),e.jsx("button",{type:"submit",className:"submit-btn",disabled:m,children:m?"Submitting...":"Submit Order"})]})]})})]})},F=()=>e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsxs("main",{children:[e.jsx(N,{bannerText:"Bulk Orders"}),e.jsx("div",{className:"mugil-container",children:e.jsx(k,{})})]}),e.jsx(q,{})]});function R(){return e.jsx(F,{})}v.createRoot(document.getElementById("root")).render(e.jsx(R,{}));
